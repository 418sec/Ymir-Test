mod main;

import core.io;

extern (C) pthread_create (thread : p!u64, attr : p!void, func : fn(p!void) -> p!void, arg : p!void) -> i32;

extern (C) pthread_join (th : u64, a : p!(p!(void)));
extern (C) pthread_exit (a : i32);
extern (C) sleep (a : i32);

def foo(a : p!void) -> p!(void) {
    println ("test");
    return null;
}

def main() {
    let th1 = 0UL;
    pthread_create (&th1, null, foo, null);
    sleep (1);
    pthread_join (th1, null);
}
