import core.io;
import socket;

def main()
{
    let socket = CreateSocket (AddrFamily::AfInet, SocketType::SockStream);
    println (socket);

    if (socket.connect ("127.0.0.1", cast!ushort(8888))) {
        println ("ok");

        let message = "test";
        socket.send (message.ptr, message.len);
        let a = socket.recv ();

        println (a);
        
        socket.close();
    } else {
        println ("err");
    }
}
