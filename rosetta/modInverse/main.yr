import std::io;

def modInverse (T) (a_ : T, b_ : T) -> i32 {
    if b_ == 1 { return 1; }
    let mut b0 = b_, mut x0 = cast!T (0), mut x1 = cast!(T) (1);

    let mut a = a_, mut b = b_;
    while a > 1 {
        let q = a / b;
        let mut z = b;
        b = a % b;
        a = z;
        z = x0;
        x0 = x1 - q * x0;
        x1 = z;
    }
    return
        if x1 < 0
           x1 + b0
        else x1
}

def main () {
    println (modInverse (42, 2017));
}
